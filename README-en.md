# ğŸµ Audio To Tidied Notes (ATTN)

[![Tests](https://github.com/bongho/attn-obsidian/actions/workflows/test.yml/badge.svg)](https://github.com/bongho/attn-obsidian/actions/workflows/test.yml)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=flat&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![Obsidian](https://img.shields.io/badge/Obsidian-483699?style=flat&logo=obsidian&logoColor=white)](https://obsidian.md/)

**ğŸ“– Language / ì–¸ì–´**: [English](README-en.md) | [í•œêµ­ì–´](README.md) | **ğŸ“‹ Documentation**: [PRD (English)](prd.md) | [PRD (í•œêµ­ì–´)](prd-ko.md)

> ğŸš€ **High-Quality Obsidian Plugin Built with TDD**  
> Automatically convert M4A audio files to structured meeting notes using OpenAI Whisper & GPT

## âœ¨ Core Features

### ğŸ¯ **One-Click Automation**
- Right-click M4A files â†’ Select "ATTN: Generate Note" â†’ Done!
- Convert speech to text using OpenAI Whisper
- Generate structured meeting notes automatically with GPT-4

### ğŸ› ï¸ **Advanced Customization** (v2.0 NEW!)
- **ğŸ“ Save Folder Path**: Freely configure where generated notes are saved
- **ğŸ“ Filename Template**: Dynamic filename generation with placeholders
- **ğŸ¨ Note Content Template**: Fully customizable note structure design

### ğŸ”§ **Template Engine**
**Available Placeholders:**
```
{{filename}}        - Original audio filename
{{summary}}          - AI-generated summary
{{transcript}}       - Full text (future support)
{{date:YYYY-MM-DD}}  - Date (supports various formats)
{{time:HH:mm}}       - Time (supports various formats)
```

**Template Example:**
```
ğŸ“ Save Folder: "Meetings/{{date:YYYY}}/{{date:MM}}"
ğŸ“„ Filename Template: "{{date:MM-DD}}-{{filename}}"
ğŸ“ Content Template:
# ğŸ“… {{date:YYYY-MM-DD}} Meeting Notes

**ğŸµ Source File:** {{filename}}  
**â° Created:** {{time:HH:mm}}

## ğŸ“‹ Summary
{{summary}}

---
*ğŸ¤– Auto-generated by ATTN plugin*
```

### ğŸŒ **Multi-language Support**
- **Korean Optimized**: Specialized for Korean speech recognition and summarization
- Other languages work within OpenAI API support range

### ğŸ” **Security**
- API keys stored locally (secure Obsidian plugin data)
- No data stored on external servers (except OpenAI processing)

## ğŸ“¦ Installation

### Manual Installation (Currently Available)

#### 1. Download Required Files
Download the following files from [GitHub Releases](https://github.com/bongho/attn-obsidian/releases):
- `manifest.json`
- `main.js` 
- `styles.css` (if available)

Or if you want the full source:
- `scripts/` directory
- `src/` directory 

#### 2. Create Plugin Folder and Copy Files

1. **Find your Obsidian vault's plugin directory:**
   ```
   [Vault Path]/.obsidian/plugins/
   ```

2. **Create new plugin folder:**
   ```
   [Vault Path]/.obsidian/plugins/audio-to-tidied-notes/
   ```

3. **Copy downloaded files to the newly created folder**

#### 3. Activate Plugin

1. Go to **Obsidian Settings** â†’ **Community plugins**
2. Click **"Reload plugins"** button (or restart Obsidian)
3. Find **"Audio To Tidied Notes"** in the plugin list
4. Set the **activation** toggle to ON

#### 4. Verify Setup Complete

- Check that **"Audio To Tidied Notes"** settings tab appears in the right settings after activation
- Verify that **"ATTN: Generate Summary Note"** menu appears when right-clicking M4A files
  
## âš™ï¸ Initial Setup

1. **Get OpenAI API Key**
   - Generate API key at [OpenAI Platform](https://platform.openai.com/api-keys)
   - Payment method registration required (usage-based billing)

2. **Install FFmpeg** (Optional, for audio speed control)
   ```bash
   # macOS (Homebrew)
   brew install ffmpeg
   
   # Windows (Chocolatey)
   choco install ffmpeg
   
   # Ubuntu/Debian
   sudo apt install ffmpeg
   ```
   
   **Check FFmpeg Path:**
   ```bash
   # Check installed FFmpeg path
   which ffmpeg          # macOS/Linux
   where ffmpeg          # Windows
   ```

3. **Plugin Configuration**
   ```
   Obsidian Settings â†’ Community Plugins â†’ Audio To Tidied Notes
   
   ğŸ“ Default Settings:
   - OpenAI API Key: sk-... (Required)
   - Save Folder Path: / (Root)
   - Filename Template: {{date:YYYY-MM-DD}}-{{filename}}-meeting-notes
   - Content Template: (Default meeting format)
   - Audio Speed Multiplier: 1x (Default) / 2x / 3x
   - FFmpeg Path: (Optional, manual setup if auto-detection fails)
   ```

## ğŸš€ How to Use

### Basic Usage
1. Add **M4A file** to your Obsidian vault
2. **Right-click** in file explorer
3. Select **"ATTN: Generate Summary Note"**
4. Wait for processing completion (progress notifications shown)
5. Check your automatically generated structured meeting notes! ğŸ‰

### Advanced Customization Examples

**Business Meeting Template:**
```
ğŸ“ Save Folder: "Business/Meetings/{{date:YYYY}}"
ğŸ“„ Filename: "{{date:MM-DD}}-{{filename}}"
ğŸ“ Content:
# ğŸ“Š Business Meeting - {{date:YYYY.MM.DD}}

**Attendees File:** {{filename}}  
**Date & Time:** {{date:YYYY-MM-DD}} {{time:HH:mm}}

## ğŸ¯ Executive Summary
{{summary}}

## ğŸ“‹ Action Items
- [ ] TBD (Extract from summary)

---
**Next Meeting:** TBD  
*ğŸ¤– Generated by ATTN*
```

**Study Group Template:**
```
ğŸ“ Save Folder: "Study/{{date:YYYY}}/{{date:MM}}"
ğŸ“„ Filename: "Week{{date:WW}}-{{filename}}"
ğŸ“ Content:
# ğŸ“š Study Notes

**Date:** {{date:YYYY-MM-DD (ddd)}}  
**Time:** {{time:HH:mm}}  
**File:** {{filename}}

## ğŸ’¡ Key Content
{{summary}}

## ğŸ“ Notes
- 

---
*ğŸ“– Study Group*
```

## ğŸ§ª Developer Information

### High-Quality Codebase Built with TDD Methodology

```bash
âœ… 80 Total Tests (73 Passed, 91.25% Success Rate)
âœ… TypeScript-based type-safe implementation
âœ… ESLint + Prettier code quality management
âœ… Comprehensive Jest test coverage
âœ… Modular architecture (Extensibility & Maintainability)
```

### Development Environment Setup

```bash
# Clone repository
git clone https://github.com/bongho/attn-obsidian.git
cd attn-obsidian

# Install dependencies
npm install

# Run development mode (Hot reload)
npm run dev

# Run tests
npm test

# Check test coverage
npm test -- --coverage

# Type checking
npm run typecheck

# Lint checking
npm run lint

# Production build
npm run build
```

### Project Structure

```
ATTN/
â”œâ”€â”€ src/                          # ğŸ“ Source Code
â”‚   â”œâ”€â”€ main.ts                  # ğŸ­ Orchestrator (coordinates all modules)
â”‚   â”œâ”€â”€ settings.ts              # âš™ï¸ Settings UI management
â”‚   â”œâ”€â”€ templateProcessor.ts     # ğŸ¨ Template Engine (NEW!)
â”‚   â”œâ”€â”€ apiService.ts            # ğŸ¤– OpenAI API integration
â”‚   â”œâ”€â”€ noteCreator.ts           # ğŸ“ Note generation (refactored)
â”‚   â””â”€â”€ types.ts                 # ğŸ“‹ TypeScript interfaces
â”œâ”€â”€ tests/                       # ğŸ§ª TDD Test Suite
â”‚   â”œâ”€â”€ TemplateProcessor.test.ts # ğŸ†• Template engine tests
â”‚   â”œâ”€â”€ SettingsTab.test.ts      # ğŸ“ˆ Extended settings tests
â”‚   â”œâ”€â”€ ApiService.test.ts       # ğŸ”„ API logic tests
â”‚   â”œâ”€â”€ NoteCreator.test.ts      # ğŸ”„ Note generation tests
â”‚   â””â”€â”€ main.test.ts             # ğŸ”„ Integration tests
â”œâ”€â”€ package.json                 # ğŸ“¦ Dependency management
â”œâ”€â”€ tsconfig.json               # âš™ï¸ TypeScript configuration
â”œâ”€â”€ jest.config.js              # ğŸ§ª Test configuration
â””â”€â”€ main.js                     # ğŸš€ Built plugin
```

## ğŸ’° API Usage Costs

OpenAI API charges:
- **Whisper API**: ~$0.006/minute (Speech â†’ Text)
- **GPT-4 API**: Varies by text length (Summary generation)

*Example: 30-minute meeting â†’ approximately $0.20~0.50*

## ğŸ—ï¸ Architecture Features

### Before & After Comparison

| Feature | v1.0 (Original) | v2.0 (Enhanced) |
|---------|----------------|----------------|
| **Filename** | `Fixed: filename-meeting.md` | `Template: {{date:MM-DD}}-{{filename}}` |
| **Save Location** | `Root folder only` | `Flexible folder structure` |
| **Note Format** | `Fixed template` | `Fully customizable` |
| **Extensibility** | `Limited` | `Unlimited placeholder combinations` |

### TDD Development Achievements

```
ğŸ§ª Phase 1: Settings Enhancement & Template Engine
  âœ… Extended ATTNSettings interface
  âœ… Added SettingsTab UI components
  âœ… Implemented TemplateProcessor module

ğŸ”„ Phase 2: Core Logic Refactoring  
  âœ… Simplified NoteCreator responsibilities
  âœ… Applied orchestrator pattern to main.ts
  âœ… Minimized inter-module coupling

âœ¨ Result: Extensible and maintainable architecture
```

## ğŸ¤ Contributing

1. **Fork** the repository
2. Create **Feature branch** (`git checkout -b feature/amazing-feature`)
3. Write **Tests** first (TDD approach)
4. **Implement** and verify tests pass
5. **Commit** (`git commit -m 'Add some amazing feature'`)
6. **Push** (`git push origin feature/amazing-feature`)
7. Create **Pull Request**

### Contribution Guidelines

- âœ… **TDD Required**: Write tests first
- âœ… **TypeScript**: Maintain type safety  
- âœ… **ESLint**: Follow code style guidelines
- âœ… **Test Coverage**: Maintain 90%+ coverage for new features

## ğŸ“„ License

MIT License - See [LICENSE](LICENSE) file for details

## ğŸ™‹â€â™‚ï¸ Support & Contact

### Troubleshooting
1. Check **console error messages**
2. Verify **OpenAI API key and credits** status  
3. Contact via **GitHub Issues** with detailed information

### Contact
- ğŸ› **Bug Reports**: [GitHub Issues](https://github.com/bongho/attn-obsidian/issues)
- ğŸ’¡ **Feature Requests**: [GitHub Discussions](https://github.com/bongho/attn-obsidian/discussions)
- ğŸ“§ **Other Inquiries**: bongho@example.com

## ğŸ“ˆ Update Roadmap

### v2.1 (Planned)
- [ ] Support for multiple audio formats (MP3, WAV, etc.)
- [ ] Full transcript text template support
- [ ] Batch processing functionality
- [ ] Custom prompt configuration

### v2.2 (Planned) 
- [ ] Local AI model support (Whisper.cpp)
- [ ] Speaker recognition feature
- [ ] Real-time audio processing

---

<div align="center">

**ğŸ‰ Experience a new dimension of meeting note-taking with ATTN!**

[![â­ Star this repo](https://img.shields.io/github/stars/bongho/attn-obsidian?style=social)](https://github.com/bongho/attn-obsidian/stargazers)
[![ğŸ´ Fork this repo](https://img.shields.io/github/forks/bongho/attn-obsidian?style=social)](https://github.com/bongho/attn-obsidian/network/members)

*Made with â¤ï¸ by [bongho](https://github.com/bongho) using TDD methodology*

</div>